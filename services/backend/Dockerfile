FROM python:3.9-slim

WORKDIR /app

ARG POSTGRES_USER 
ARG POSTGRES_PASSWORD
ARG POSTGRES_DB
ARG BACKEND_PORT

ENV POSTGRES_USER=$POSTGRES_USER
ENV POSTGRES_PASSWORD=$POSTGRES_PASSWORD
ENV POSTGRES_DB=$POSTGRES_DB
ENV BACKEND_PORT=$BACKEND_PORT

COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .

CMD ["python", "app.py"]
